const mongoose = require("mongoose");
mongoose.connect("mongodb://localhost:27017/db-koperasi-simpan-pinjam");

//Membuat Data
const simpananSchema = new mongoose.Schema({
    id_simpan: Number,
    tgl_simpan: String,
    nama_nsb: String,
    jml_simpan: Number,
});

const simpanan = mongoose.model("simpanan", simpananSchema);
mongoose.pluralize(null);
const siti = new simpanan({
    id_simpan: 801,
    tgl_simpan: "19-05-2022",
    nama_nsb: "Siti Aisyah",
    jml_simpan: 2000000
});

const bagus = new simpanan({
    id_simpan: 802,
    tgl_simpan: "28-07-2022",
    nama_nsb: "Bagus Jaya",
    jml_simpan: 1000000
});

const  ivan= new simpanan({
    id_simpan: 803,
    tgl_simpan: "07-08-2022",
    nama_nsb: "Ivan Rahmat",
    jml_simpan: 5000000
});

const surya = new simpanan({
    id_simpan: 804,
    tgl_simpan: "20-10-2022",
    nama_nsb: "Surya Nanda",
    jml_simpan: 7000000
});


const septian = new simpanan({
    id_simpan: 805,
    tgl_simpan: "22-05-2022",
    nama_nsb: "Septian Yudi",
    jml_simpan: 6000000
});

const maryanah = new simpanan({
    id_simpan: 806,
    tgl_simpan: "16-04-2022",
    nama_nsb: "Maryanah Susanti",
    jml_simpan: 2000000
});

const alex = new simpanan({
    id_simpan: 807,
    tgl_simpan: "11-06-2022",
    nama_nsb: "Alex Horison",
    jml_simpan: 8000000
});

const jepri = new simpanan({
    id_simpan: 808,
    tgl_simpan: "19-09-2022",
    nama_nsb: "Jepri sutisna",
    jml_simpan: 4000000
});

const lala = new simpanan({
    id_simpan: 809,
    tgl_simpan: "04-04-2022",
    nama_nsb: "Lala Nindi",
    jml_simpan: 3000000
});

const sinta = new simpanan({
    id_simpan: 810,
    tgl_simpan: "13-10-2022",
    nama_nsb: "Sinta Jojo",
    jml_simpan: 9000000
});   

simpanan.insertMany(
    [siti, bagus, ivan, surya, septian, maryanah, alex, jepri, lala, sinta  ],
    function (eror) {
        if (eror) {
            console.log(eror);
        } else {
            exports.simpanan = function() {
                return "Data Simpanan Berhasil Disimpan!"
              }
            mongoose.connection.close();
        }
    }
);
