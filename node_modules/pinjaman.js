const mongoose = require("mongoose");
mongoose.connect("mongodb://localhost:27017/db-koperasi-simpan-pinjam");

const pinjamanScheme = new mongoose.Schema({
  id_pinjam: Number,
  id_nsb: Number,
  tgl_pinjam: String,
  nama_nsb: String,
  jml_pinjam: Number,
  bunga: Number,
  angsuran: String,
  tgl_bayar: String,
  total_bayar: Number,
});

const pinjaman = mongoose.model("pinjaman", pinjamanScheme);
mongoose.pluralize(null);
const arya = new pinjaman({
  id_pinjam: 54321,
  id_nsb: 801,
  tgl_pinjam: "28-08-2022",
  nama_nsb: "Arya Susilo",
  jml_pinjam: 1000000,
  bunga: 10,
  angsuran: "Angsuran ke-10",
  tgl_bayar: "03-12-2022",
  total_bayar: 100000,
});

const rian = new pinjaman({
  id_pinjam: 54234,
  id_nsb: 802,
  tgl_pinjam: "12-02-2022",
  nama_nsb: "Rian Bagus",
  jml_pinjam: 3000000,
  bunga: 10,
  angsuran: "Angsuran ke-10",
  tgl_bayar: "12-03-2022",
  total_bayar: 300000,
});

const andi = new pinjaman({
  id_pinjam: 34523,
  id_nsb: 803,
  tgl_pinjam: "15-02-2022",
  nama_nsb: "Andi Mulya",
  jml_pinjam: 2000000,
  bunga: 10,
  angsuran: "Angsuran ke-1",
  tgl_bayar: "24-05-2022",
  total_bayar: 200000,
});

const sarah = new pinjaman({
  id_pinjam: 12454,
  id_nsb: 804,
  tgl_pinjam: "31-06-2022",
  nama_nsb: "Sarah Sutiawan",
  jml_pinjam: 5000000,
  bunga: 10,
  angsuran: "Angsuran ke-10",
  tgl_bayar: "15-06-2022",
  total_bayar: 500000,
});

const slamet = new pinjaman({
  id_pinjam: 64534,
  id_nsb: 805,
  tgl_pinjam: "24-02-2022",
  nama_nsb: "Slamet Sejati",
  jml_pinjam: 7000000,
  bunga: 10,
  angsuran: "Angsuran ke-10",
  tgl_bayar: "05-08-2022",
  total_bayar: 700000,
});

const budi = new pinjaman({
  id_pinjam: 66778,
  id_nsb: 806,
  tgl_pinjam: "05-09-2022",
  nama_nsb: "Budi Prasetyo",
  jml_pinjam: 8000000,
  bunga: 10,
  angsuran: "Angsuran ke-10",
  tgl_bayar: "05-08-2023",
  total_bayar: 800000,
});

const maryani = new pinjaman({
  id_pinjam: 24235,
  id_nsb: 806,
  tgl_pinjam: "05-10-2022",
  nama_nsb: "Maryani Susanti",
  jml_pinjam: 1000000,
  bunga: 10,
  angsuran: "Angsuran ke-1",
  tgl_bayar: "05-10-2023",
  total_bayar: 100000,
});

const roy = new pinjaman({
  id_pinjam: 23454,
  id_nsb: 807,
  tgl_pinjam: "18-08-2022",
  nama_nsb: "Roy Suryo",
  jml_pinjam: 3000000,
  bunga: 10,
  angsuran: "Angsuran ke-1",
  tgl_bayar: "20-10-2022",
  total_bayar: 300000,
});

const ragil = new pinjaman({
  id_pinjam: 534567,
  id_nsb: 808,
  tgl_pinjam: "07-08-2022",
  nama_nsb: "Ragil Hermansyah",
  jml_pinjam: 5000000,
  bunga: 10,
  angsuran: "Angsuran ke-1",
  tgl_bayar: "14-06-2023",
  total_bayar: 500000,
});

const sri = new pinjaman({
  id_pinjam: 25646,
  id_nsb: 809,
  tgl_pinjam: "07-09-2022",
  nama_nsb: "Sri Mulyani",
  jml_pinjam: 4000000,
  bunga: 10,
  angsuran: "Angsuran ke-10",
  tgl_bayar: "10-10-2023",
  total_bayar: 400000,
});

pinjaman.insertMany(
  [arya, rian, andi, sarah, slamet, maryani, budi, roy, ragil, sri],
  function (error) {
    if (error) {
      console.log(error);
    } else {
      exports.pinjaman = function() {
        return
      }
      mongoose.connection.close();
    }
  }
);
